@using ESE.SmartHome.App.Dashboard
@model ViewDashboard.QueryResult

@{
    ViewBag.Title = "Dashboard";
    Layout = "_Layout";
}

<section class="section">
    <div class="container">
        <hr />
        <h2 style="text-align: center;">Aktuelle Daten</h2>
        <hr />

        @if (!Model.Data.Any())
        {
            <hr />
            <h2>Es wurden keine aktiven Devices gefunden ...</h2>
            <hr />
        }
        else
        {
            <div class="card-deck mb-3">
                @foreach (var d in Model.Data)
                {
                    <div class="col-md-4 d-flex">
                        <div class="card mb-md-5">
                            <div class="card-header"><i class="fa fa-thermometer-three-quarters"></i> | @(d.Key.Name)</div>
                            <div class="card-body d-flex flex-column">
                                <h4 class="card-title"></h4>

                                @if (d.Value == null)
                                {
                                    <p class="card-text">F&uuml;r dieses Device gibt es bisher keine Messwerte ...</p>
                                }
                                else
                                {
                                    <p class="card-text">@(d.Value.Timestamp)</p>
                                    <p class="card-text">Temperatur: @(d.Value.Temperature)°</p>
                                    <p class="card-text">Luftfeuchtigkeit @(d.Value.Humidity)%</p>
                                }


                            </div>
                        </div>
                    </div>
                }

            </div>
        }

    </div>
</section>